(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t){},246:function(e,t,n){e.exports=n(588)},251:function(e,t,n){},253:function(e,t,n){},263:function(e,t){},265:function(e,t){},325:function(e,t){},327:function(e,t){},336:function(e,t){},338:function(e,t){},363:function(e,t){},365:function(e,t){},366:function(e,t){},372:function(e,t){},374:function(e,t){},392:function(e,t){},394:function(e,t){},406:function(e,t){},409:function(e,t){},438:function(e,t){},447:function(e,t){},464:function(e,t){},465:function(e,t){},521:function(e,t){},532:function(e,t){},535:function(e,t){},588:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(238),o=n.n(c),l=(n(251),n(10)),s=n.n(l),i=n(24),u=n(19),d=(n(253),n(62)),p=n(39),m=n(243),f=n(27),b=n(21),h=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"",type:"string"},{indexed:!0,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"TokenBurned",type:"event"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tezosAddress",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"requestBurnToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"requestIfAddressWhitelisted",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"value",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],y=n(602),v=function(e){var t=e.ethWallet,n=e.txzWallet,c=Object(a.useState)(1),o=Object(u.a)(c,2),l=o[0],d=o[1],p=Object(a.useState)(""),m=Object(u.a)(p,2),v=(m[0],m[1]),E=Object(a.useState)(0),w=Object(u.a)(E,2),g=w[0],T=w[1],x=Object(a.useState)("Unlock Wallet"),k=Object(u.a)(x,2),O=k[0],j=k[1],C=Object(a.useState)("Unlock Wallet"),A=Object(u.a)(C,2),z=A[0],S=A[1],W=Object(a.useState)([]),X=Object(u.a)(W,2),Z=X[0],F=X[1],B=Object(a.useState)(),M=Object(u.a)(B,2),D=(M[0],M[1],Object(a.useState)()),I=Object(u.a)(D,2),G=I[0],L=I[1],q=Object(a.useState)(),R=Object(u.a)(q,2),P=R[0],J=R[1],U=Object(a.useState)(!1),H=Object(u.a)(U,2),N=H[0],_=H[1];Object(a.useEffect)((function(){K()}),[t,n]);var K=function(){var e=Object(i.a)(s.a.mark((function e(){var a,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,t.web3.eth.getAccounts();case 3:a=e.sent,F(a),S(a[0]),v(a[0]),console.log(h),r=new t.web3.eth.Contract(h,"0x3A03B4EddF521a0Cb2bC761DD06A04F322eEe5F8",{from:a[0]}),console.log(r,"instance"),J(r);case 11:if(!n){e.next=21;break}return e.next=14,n.wallet.pkh();case 14:return c=e.sent,j(c),console.log(c,"accountPkh"),e.next=19,n.wallet.at("KT192uQ2Cjhr3Hgnf8438p3DxwhpdFrMTGyJ");case 19:o=e.sent,L(o);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,P.methods.requestBurnToken(O,g).send({from:Z[0]});case 4:t=e.sent,console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:d(2),_(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,G.methods.request_fortune(1,10).send();case 4:return t=e.sent,e.next=7,t.confirmation();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:d(3),_(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,G.methods.withdraw(g/1.5).send();case 4:return t=e.sent,e.next=7,t.confirmation();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:d(1),_(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%",height:500,backgroundColor:"#FF6961",borderRadius:50,padding:30}},r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"formTezosAddress"},r.a.createElement(b.a.Label,null,"Ethereum Burn Address"),r.a.createElement(b.a.Control,{placeholder:z,readOnly:!0})),r.a.createElement(b.a.Group,{controlId:"formXTZAmount"},r.a.createElement(b.a.Label,null,"Amount of bXTZ"),r.a.createElement(b.a.Control,{placeholder:"0",onChange:function(e){T(e.target.value)}}),r.a.createElement(b.a.Text,{className:"text-muted"},"Returns ",g/1.5," XTZ on Tezos")),r.a.createElement(b.a.Group,{controlId:"formEthAddress"},r.a.createElement(b.a.Label,null,"Tezos Address Receiving XTZ"),r.a.createElement(b.a.Control,{placeholder:O,readOnly:!0}))),r.a.createElement("div",{style:{width:"100%",marginTop:30}},r.a.createElement("div",null,1===l?N?r.a.createElement(y.a,null):r.a.createElement(f.a,{onClick:function(){return Q()},variant:"info",size:"lg",style:{width:"50%"}},"Burn bXTZ"):r.a.createElement(f.a,{variant:"outline-light",size:"lg",style:{width:"50%"},disabled:!0},"Burn bXTZ")),r.a.createElement("div",{style:{marginTop:20}},2===l?N?r.a.createElement(y.a,null):r.a.createElement(f.a,{onClick:function(){return $()},variant:"info",size:"lg",style:{width:"50%"}},"Approve"):r.a.createElement(f.a,{variant:"outline-light",size:"lg",style:{width:"50%"},disabled:!0},"Approve")),r.a.createElement("div",{style:{marginTop:20}},3===l?N?r.a.createElement(y.a,null):r.a.createElement(f.a,{onClick:function(){return V()},variant:"info",size:"lg",style:{width:"50%"}},"Withdraw XTZ"):r.a.createElement(f.a,{variant:"outline-light",size:"lg",style:{width:"50%"},disabled:!0},"Withdraw XTZ"))))},E=function(e){var t=e.ethWallet,n=e.txzWallet,c=Object(a.useState)(1),o=Object(u.a)(c,2),l=o[0],d=o[1],p=Object(a.useState)(""),m=Object(u.a)(p,2),v=m[0],E=m[1],w=Object(a.useState)(0),g=Object(u.a)(w,2),T=g[0],x=g[1],k=Object(a.useState)("Unlock Wallet"),O=Object(u.a)(k,2),j=O[0],C=O[1],A=Object(a.useState)("Unlock Wallet"),z=Object(u.a)(A,2),S=z[0],W=z[1],X=Object(a.useState)([]),Z=Object(u.a)(X,2),F=Z[0],B=Z[1],M=Object(a.useState)(),D=Object(u.a)(M,2),I=(D[0],D[1],Object(a.useState)()),G=Object(u.a)(I,2),L=G[0],q=G[1],R=Object(a.useState)(),P=Object(u.a)(R,2),J=P[0],U=P[1],H=Object(a.useState)(!1),N=Object(u.a)(H,2),_=N[0],K=N[1];Object(a.useEffect)((function(){Q()}),[t,n]);var Q=function(){var e=Object(i.a)(s.a.mark((function e(){var a,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,t.web3.eth.getAccounts();case 3:a=e.sent,B(a),W(a[0]),E(a[0]),console.log(h),r=new t.web3.eth.Contract(h,"0x3A03B4EddF521a0Cb2bC761DD06A04F322eEe5F8",{from:a[0]}),console.log(r,"instance"),U(r);case 11:if(!n){e.next=21;break}return e.next=14,n.wallet.pkh();case 14:return c=e.sent,C(c),console.log(c,"accountPkh"),e.next=19,n.wallet.at("KT192uQ2Cjhr3Hgnf8438p3DxwhpdFrMTGyJ");case 19:o=e.sent,q(o);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,e.next=4,L.methods.deposit(v.toLowerCase()).send({amount:T});case 4:return t=e.sent,e.next=7,t.confirmation();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:K(!1),d(2);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,e.next=4,J.methods.requestIfAddressWhitelisted().send({from:F[0]});case 4:t=e.sent,console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:K(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%",height:500,backgroundColor:"#FF6961",borderRadius:50,padding:30}},r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"formTezosAddress"},r.a.createElement(b.a.Label,null,"Tezos Deposit Address"),r.a.createElement(b.a.Control,{placeholder:j,readOnly:!0})),r.a.createElement(b.a.Group,{controlId:"formXTZAmount"},r.a.createElement(b.a.Label,null,"Amount of XTZ"),r.a.createElement(b.a.Control,{placeholder:"0",onChange:function(e){x(e.target.value)}}),r.a.createElement(b.a.Text,{className:"text-muted"},"Creates ",T/1.5," bXTZ on Ethereum")),r.a.createElement(b.a.Group,{controlId:"formEthAddress"},r.a.createElement(b.a.Label,null,"Ethereum Address Receiving bXTZ"),r.a.createElement(b.a.Control,{placeholder:S,readOnly:!0}))),1===l?_?r.a.createElement(y.a,null):r.a.createElement("div",{style:{width:"100%",marginTop:30}},r.a.createElement("div",null,r.a.createElement(f.a,{onClick:function(){return $()},variant:"info",size:"lg",style:{width:"50%"}},"Deposit XTZ")),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(f.a,{variant:"outline-light",size:"lg",style:{width:"50%"},disabled:!0},"Mint bXTZ"))):_?r.a.createElement(y.a,null):r.a.createElement("div",{style:{width:"100%",marginTop:30}},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"outline-light",size:"lg",style:{width:"50%"},disabled:!0},"Deposit XTZ")),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(f.a,{onClick:function(){return V()},variant:"info",size:"lg",style:{width:"50%"}},"Mint bXTZ"))))},w=n(7),g=n(6),T=n(15),x=n(14),k=n(63),O=n(92),j=n.n(O),C=function(){return new Promise((function(e,t){window.addEventListener("load",Object(i.a)(s.a.mark((function n(){var a,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=10;break}return a=new j.a(window.ethereum),n.prev=2,n.next=5,window.ethereum.enable();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),t(n.t0);case 10:r=new j.a(new j.a.providers.HttpProvider("https://kovan.infura.io/v3/50c1b6482c9f47b08dcab7b1500f5e24")),e({web3:a,infuraProvider:r});case 12:case"end":return n.stop()}}),n,null,[[2,7]])}))))}))},A=(r.a.Component,function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.isAvailable();case 3:if(e.sent){e.next=6;break}throw new Error("Thanos Wallet not installed");case 6:return t=new k.a("Bifrost Baker"),e.next=9,t.connect("carthagenet");case 9:return e.abrupt("return",t);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}()),z=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),l=Object(u.a)(o,2),f=l[0],b=l[1];Object(a.useEffect)((function(){h()}));var h=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a,r,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:return t=e.sent,e.next=6,t.web3.eth.getAccounts();case 6:n=e.sent,console.log(n,"accounts"),c(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details.");case 14:return e.prev=14,e.next=17,A();case 17:return a=e.sent,r=a.toTezos(),e.next=21,r.wallet.pkh();case 21:return o=e.sent,e.next=24,r.tz.getBalance(o);case 24:l=e.sent,console.info("address: ".concat(o,", balance: ").concat(l)),b(r),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(14),alert("Thanos Wallet not installed");case 32:case"end":return e.stop()}}),e,null,[[0,11],[14,29]])})));return function(){return e.apply(this,arguments)}}(),y={marginTop:20,fontSize:20,color:"#16a2b9",fontWeight:900};return r.a.createElement("div",{className:"App",style:{backgroundColor:"#fff1c1"}},r.a.createElement("div",{style:{height:20,backgroundColor:"#fe5f55"}}),r.a.createElement(m.a,{style:{marginTop:20}},r.a.createElement("p",{style:{marginTop:50,fontSize:70,color:"#FF6961",fontWeight:900}},"Bifrost Baking Token"),r.a.createElement("p",{style:{marginTop:20,fontSize:22,color:"#16a2b9",fontWeight:900}},"Cross-Chain Wrapped Tokens Between Tezos and Ethereum "),r.a.createElement("div",{style:{marginTop:80}},r.a.createElement("p",{style:y},"The value of bXTZ grows via Tezos staking rewards!"),r.a.createElement("p",{style:y},"Current Ratio    1 bXTZ = 1.5 XTZ"),r.a.createElement("p",{style:y},"bTXZ token address: ",r.a.createElement("span",{style:{border:"2px dashed #fe5f55",padding:"5px"}},"0x31678F57E2F9A416dED24a5684f5eFcce3c69997"))),r.a.createElement(d.a,{style:{marginTop:40}},r.a.createElement(p.a,{sm:1,md:2,lg:3}),r.a.createElement(p.a,null,r.a.createElement("p",null,"Mint bXTZ Tokens"),r.a.createElement(E,{ethWallet:n,txzWallet:f}),r.a.createElement("p",{style:{marginTop:100}},"Burn bXTZ Tokens"),r.a.createElement(v,{ethWallet:n,txzWallet:f})),r.a.createElement(p.a,{sm:1,md:2,lg:3}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(587);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[246,1,2]]]);
//# sourceMappingURL=main.6afdd19a.chunk.js.map